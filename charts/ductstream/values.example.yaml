# Example values for DuctStream

image:
  repository: ghcr.io/josephjohncox/ductstream
  tag: "0.1.0"

service:
  type: ClusterIP
  port: 8080

# Service annotations (e.g., for load balancers or service mesh)
serviceAnnotations: {}

# Environment variables for the container
env:
  - name: DUCTSTREAM_POSTGRES_DSN
    value: "postgres://user:pass@postgres:5432/ductstream?sslmode=disable"
  - name: DUCTSTREAM_GRPC_LISTEN
    value: ":8080"
  - name: DUCTSTREAM_WIRE_FORMAT
    value: "arrow"

# Optionally mount config via ConfigMap
config:
  enabled: false
  data: {}

# Optional worker deployments (one per flow)
workers:
  enabled: false
  items:
    - name: "example-flow"
      kind: "deployment"
      replicas: 1
      command: ["/usr/local/bin/ductstream-worker"]
      args: ["--flow-id=example-flow"]
      env:
        - name: DUCTSTREAM_POSTGRES_DSN
          value: "postgres://user:pass@postgres:5432/ductstream?sslmode=disable"
